"use strict";(self.webpackChunklfd_task=self.webpackChunklfd_task||[]).push([[328],{1328:(k,u,e)=>{e.r(u),e.d(u,{DashboardModule:()=>R});var d=e(8583),_=e(2759),Z=e(8002),x=e(4395),y=e(7519),f=e(9386),t=e(7716),p=e(4655),T=e(2238),A=e(7001),v=e(1552),F=e(1095),h=e(8295),C=e(9983),m=e(3679);const M=["inputSearch"];function q(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"mat-icon",10),t.NdJ("click",function(){t.CHM(i);const o=t.oxw(),c=o.$implicit,s=o.index,r=t.oxw(),g=t.MAs(19);return r.openModel(g,c,s,"Edit Family Info",2)}),t._uU(1,"edit"),t.qZA()}}function N(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"mat-icon",13),t.NdJ("click",function(){t.CHM(i);const o=t.oxw().index;return t.oxw().deleteData(o)}),t._uU(1,"delete"),t.qZA()}}function b(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"span",9),t.TgZ(9,"mat-icon",10),t.NdJ("click",function(){const o=t.CHM(i),c=o.$implicit,s=o.index,r=t.oxw(),g=t.MAs(19);return r.openModel(g,c,s,"View Family Info",1)}),t._uU(10,"visibility"),t.qZA(),t.YNc(11,q,2,0,"mat-icon",11),t.YNc(12,N,2,0,"mat-icon",12),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=l.$implicit,a=l.index,o=t.oxw();t.xp6(2),t.Oqu(a+1),t.xp6(2),t.Oqu(i.name),t.xp6(2),t.Oqu(i.relation),t.xp6(5),t.Q6J("ngIf",o.isAdmin),t.xp6(1),t.Q6J("ngIf",o.isAdmin)}}function O(n,l){if(1&n&&(t.ynx(0),t.TgZ(1,"div",21),t._uU(2,"Name"),t.qZA(),t.TgZ(3,"div",22),t._uU(4),t.qZA(),t.TgZ(5,"div",21),t._uU(6,"Relation"),t.qZA(),t.TgZ(7,"div",22),t._uU(8),t.qZA(),t.BQk()),2&n){const i=t.oxw(2);t.xp6(4),t.Oqu(i.viewRowData.name),t.xp6(4),t.Oqu(i.viewRowData.relation)}}function U(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"div",23),t.TgZ(1,"mat-form-field",24),t.TgZ(2,"mat-label"),t._uU(3,"Name"),t.qZA(),t.TgZ(4,"input",25),t.NdJ("ngModelChange",function(o){return t.CHM(i),t.oxw(2).editRowName=o}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const i=t.oxw(2);t.xp6(4),t.Q6J("ngModel",i.editRowName)}}function D(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"button",26),t.NdJ("click",function(){return t.CHM(i),t.oxw(2).edit()}),t._uU(1,"Edit"),t.qZA()}}function w(n,l){if(1&n){const i=t.EpF();t.TgZ(0,"div",14),t.TgZ(1,"h2",15),t._uU(2),t.qZA(),t.YNc(3,O,9,2,"ng-container",16),t.YNc(4,U,5,1,"div",17),t.TgZ(5,"div",18),t.TgZ(6,"button",19),t.NdJ("click",function(){return t.CHM(i),t.oxw().closeDialog()}),t._uU(7),t.qZA(),t.YNc(8,D,2,0,"button",20),t.qZA(),t.qZA()}if(2&n){const i=t.oxw();t.xp6(2),t.Oqu(i.title),t.xp6(1),t.Q6J("ngIf",1==i.tab),t.xp6(1),t.Q6J("ngIf",2==i.tab),t.xp6(3),t.Oqu(1==i.tab?"OK":"Close"),t.xp6(1),t.Q6J("ngIf",2==i.tab)}}let I=(()=>{class n{constructor(i,a,o,c){this.router=i,this._dashboard=a,this.matDialog=o,this._snackBar=c,this.familyList=[],this.title="",this.isAdmin=!1,this.forLocalSearch=[];const s=this._dashboard.getLocalStorage("login");if(s){const r=JSON.parse(s);this.isAdmin=r.role==f.n.Admin}}openSnackBar(i,a){this._snackBar.open(i,a)}getFamilyData(){this.familyList=this._dashboard.getFamily(),this.forLocalSearch=[...this.familyList]}deleteData(i){this._dashboard.deleteFamilyData(i,this.familyList)}openModel(i,a,o,c,s){this.title=c,this.tab=s,this.viewRowData=a,this.editRowName=a.name,this.editRowIndex=o,this.dialogOpen(i)}edit(){if(!this.editRowName)return this.openSnackBar("Name is Required","OK");this.familyList[this.editRowIndex].name=this.editRowName,this.closeDialog()}dialogOpen(i){this.dialogRef=i,this.matDialog.open(this.dialogRef)}closeDialog(){this.matDialog.closeAll()}localSearch(i,a,o){this.familyList=this._dashboard.SearchBySpecificKeyInData(i,a,o),a||(this.familyList=[...this.forLocalSearch])}ngOnInit(){this.getFamilyData()}ngAfterViewInit(){(0,_.R)(this.inputSearch.nativeElement,"keyup").pipe((0,Z.U)(i=>i.target.value),(0,x.b)(400),(0,y.x)()).subscribe(i=>{this.localSearch("name",i,this.forLocalSearch)})}}return n.\u0275fac=function(i){return new(i||n)(t.Y36(p.F0),t.Y36(f.s),t.Y36(T.uw),t.Y36(A.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-family"]],viewQuery:function(i,a){if(1&i&&t.Gf(M,5),2&i){let o;t.iGM(o=t.CRH())&&(a.inputSearch=o.first)}},decls:20,vars:1,consts:[[1,"w-100"],[1,"input-group","justify-content-start","searchMargin"],[1,"form-outline"],["mat-input","","type","search","placeholder","Type letter for Search",1,"form-control"],["inputSearch",""],[1,"table"],["scope","col"],[4,"ngFor","ngForOf"],["modelDialog",""],[1,"d-flex","align-items-center"],[1,"mr-3","cursor-pointer",3,"click"],["class","mr-3 cursor-pointer",3,"click",4,"ngIf"],["class","mr-3 cursor-pointer text-danger",3,"click",4,"ngIf"],[1,"mr-3","cursor-pointer","text-danger",3,"click"],[1,"row"],[1,"paddingHeading","col-12"],[4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-12","text-right"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary","class","ml-2",3,"click",4,"ngIf"],[1,"col-3"],[1,"col-9"],[1,"col-12"],["appearance","fill",1,"w-100"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["mat-flat-button","","color","primary",1,"ml-2",3,"click"]],template:function(i,a){1&i&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"input",3,4),t.qZA(),t.qZA(),t.TgZ(5,"table",5),t.TgZ(6,"thead"),t.TgZ(7,"tr"),t.TgZ(8,"th",6),t._uU(9,"#"),t.qZA(),t.TgZ(10,"th",6),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th",6),t._uU(13,"Email"),t.qZA(),t.TgZ(14,"th",6),t._uU(15,"Operation "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"tbody"),t.YNc(17,b,13,5,"tr",7),t.qZA(),t.qZA(),t.qZA(),t.YNc(18,w,9,5,"ng-template",null,8,t.W1O)),2&i&&(t.xp6(17),t.Q6J("ngForOf",a.familyList))},directives:[d.sg,v.Hw,d.O5,F.lW,h.KE,h.hX,C.Nt,m.Fj,m.JJ,m.On],styles:[".paddingHeading[_ngcontent-%COMP%]{padding:0 15px}.searchMargin[_ngcontent-%COMP%]{margin:10px 0}"]}),n})();var S=e(7744);const J=[{path:"/dashboard",redirectTo:"/dashboard/family",pathMatch:"full"},{path:"family",component:I}];let R=(()=>{class n{}return n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,m.u5,S.q,p.Bz.forChild(J)],p.Bz]}),n})()}}]);